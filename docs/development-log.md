# DeepResearchify 开发日志

## 日志格式规范

每个日志条目应包含以下信息：

```
## [日期] - [功能/修复名称]

### 开发者
[开发者姓名/ID]

### 变更内容
- [具体变更1]
- [具体变更2]

### 涉及文件
- [文件路径1]
- [文件路径2]

### 架构影响
[描述此变更如何影响或符合项目架构]

### 注意事项
[开发过程中的注意事项、决策理由或未来可能的问题]
```

## 开发流程指南

### 开始新功能开发前

1. **查阅架构文档**：打开 `docs/project-architecture.md` 了解项目整体架构
2. **查阅开发日志**：查看 `docs/development-log.md` 了解最近的开发历史
3. **创建新的日志条目**：在开发日志中添加新的条目，描述计划实现的功能

### 开发过程中

1. **遵循架构规范**：确保新代码符合项目架构设计
2. **记录关键决策**：在日志中记录重要的技术决策和理由

### 完成开发后

1. **更新日志**：完善日志条目，添加实际实现的内容
2. **架构更新**：如有必要，更新架构文档

## 日志条目

### [2023-11-15] - 项目初始化

#### 开发者
系统管理员

#### 变更内容
- 创建Next.js项目基础结构
- 设置基本的页面布局
- 添加PDF生成功能初始实现

#### 涉及文件
- `src/app/page.tsx`
- `src/app/layout.tsx`
- `src/app/api/generate-pdf/`

#### 架构影响
建立了基础的三层架构：前端UI、API服务和PDF生成服务

#### 注意事项
PDF生成功能在本地运行良好，但在Vercel部署时需要特殊配置

### [2023-11-20] - 添加文档预览组件

#### 开发者
系统管理员

#### 变更内容
- 创建DocumentPreview组件
- 实现Markdown实时渲染

#### 涉及文件
- `src/app/components/DocumentPreview.tsx`
- `src/app/components/MarkdownTemplate.tsx`

#### 架构影响
扩展了前端组件层，增强了用户交互体验

#### 注意事项
预览组件和PDF生成使用相同的模板，确保一致性

### [2023-12-05] - 实现缓存机制

#### 开发者
系统管理员

#### 变更内容
- 添加PDF生成结果缓存
- 优化重复请求处理

#### 涉及文件
- `src/app/utils/cache.ts`
- `src/app/api/generate-pdf/route.ts`

#### 架构影响
添加了缓存服务层，提高了系统性能

#### 注意事项
缓存有效期设置为30分钟，可根据使用情况调整

### [2023-12-15] - Vercel部署优化

#### 开发者
系统管理员

#### 变更内容
- 配置Vercel函数资源限制
- 使用chrome-aws-lambda替代完整Puppeteer
- 添加部署文档

#### 涉及文件
- `vercel.json`
- `deployment.md`
- `vercel-deployment-guide.md`

#### 架构影响
优化了部署架构，确保在Vercel环境中稳定运行

#### 注意事项
PDF生成函数需要最大内存限制(3008MB)和较长的执行时间(60s)

## 使用说明

每次开始新的开发工作前，请执行以下命令查看最新的架构文档和开发日志：

```bash
cat docs/project-architecture.md
cat docs/development-log.md
```

或者使用编辑器打开这些文件进行查阅。

开发完成后，请务必更新开发日志，记录您的贡献和重要决策。